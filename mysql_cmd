
CREATE TABLE allowlist_user (
    id INT PRIMARY KEY AUTO_INCREMENT ,
    email VARCHAR(128) UNIQUE COMMENT 'allowed email for registration',
    phone VARCHAR(20) UNIQUE COMMENT 'allowed phone for registration',
    endedi VARCHAR(30) COMMENT 'DISABLE OR ENABLE row as mark so that temporary row of table'
);


CREATE TABLE employee (
    id INT PRIMARY KEY AUTO_INCREMENT ,
    qswar_id VARCHAR(20),
    gov_emp_id VARCHAR(20) UNIQUE COMMENT 'Government Employee ID (e.g., Aadhar, Handicraft ID)',
    name VARCHAR(100),
    username VARCHAR(100),
    phone VARCHAR(20),
    email VARCHAR(100) UNIQUE,
    position VARCHAR(50),
    authorised VARCHAR(255),
    department VARCHAR(50),
    password VARCHAR(255) NOT NULL,
    manager_emp_id INT,
    user_photo_link VARCHAR(512),
    endedi VARCHAR(30) COMMENT 'DISABLE OR ENABLE row as mark so that temporary row of table',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (manager_emp_id) REFERENCES employee(id)
);






================== DATA BASE CMD =====================

create database hc;
use hc;

drop table notification;
drop table allowlist_user;
drop table closer_report;
drop table travel;
drop table hotel;
drop table itinerary;
drop table visit;
drop table employee;


================== END OF DATA BASE CMD =====================

================== SESSION =====================


CREATE TABLE `SPRING_SESSION` (
  `PRIMARY_ID` CHAR(36) NOT NULL,
  `SESSION_ID` CHAR(36) NOT NULL,
  `CREATION_TIME` BIGINT NOT NULL,
  `LAST_ACCESS_TIME` BIGINT NOT NULL,
  `MAX_INACTIVE_INTERVAL` INT NOT NULL,
  `EXPIRY_TIME` BIGINT NOT NULL,
  `PRINCIPAL_NAME` VARCHAR(100) DEFAULT NULL,
  PRIMARY KEY (`PRIMARY_ID`),
  UNIQUE KEY `SPRING_SESSION_IX1` (`SESSION_ID`),
  KEY `SPRING_SESSION_IX2` (`EXPIRY_TIME`),
  KEY `SPRING_SESSION_IX3` (`PRINCIPAL_NAME`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


CREATE TABLE `SPRING_SESSION_ATTRIBUTES` (
  `SESSION_PRIMARY_ID` CHAR(36) NOT NULL,
  `ATTRIBUTE_NAME` VARCHAR(200) NOT NULL,
  `ATTRIBUTE_BYTES` BLOB NOT NULL,
  PRIMARY KEY (`SESSION_PRIMARY_ID`, `ATTRIBUTE_NAME`),
  CONSTRAINT `SPRING_SESSION_ATTRIBUTES_FK` FOREIGN KEY (`SESSION_PRIMARY_ID`) REFERENCES `SPRING_SESSION` (`PRIMARY_ID`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

================== END OF SESSION =====================